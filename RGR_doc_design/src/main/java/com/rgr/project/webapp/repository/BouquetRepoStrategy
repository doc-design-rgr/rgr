package com.rgr.project.webapp.Repo;

import org.springframework.stereotype.Component;

import java.util.Collection;
import java.util.HashMap;
import java.util.Map;
import java.util.Set;

@Component
public class BouquetRepoStrategy {

    private Map<String, BouquetRepo> bouquetRepoStrategies;

    public BouquetRepoStrategy(Set<BouquetRepo> bouquetRepo) {
        bouquetRepoStrategies = createStrategies(bouquetRepo);
    }

    BouquetRepo findBouquetRepo(String repoName) {
        return bouquetRepoStrategies.get(repoName);
    }

    Set<String> findAllBouquetRepoStrategyNames () {
        return bouquetRepoStrategies.keySet();
    }

    Collection<BouquetRepo> findAllBouquetRepositories(){
        return bouquetRepoStrategies.values();
    }


    private Map<String, BouquetRepo> createStrategies(Set<BouquetRepo> bouquetRepositories){
        Map<String, BouquetRepo> bouquetRepoStrategies = new HashMap<>();
        bouquetRepositories.forEach(bouquetRepo -> bouquetRepoStrategies.put(bouquetRepo.getName(), bouquetRepo));
        return bouquetRepoStrategies;
    }

}
